functions and nested loop tasks
